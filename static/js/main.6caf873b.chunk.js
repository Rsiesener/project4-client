(this["webpackJsonpproject4-client"]=this["webpackJsonpproject4-client"]||[]).push([[0],{120:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a(29),s=a.n(r),c=(a(91),a(36)),o=a(4),i=a(7),l=a(127),d=(a(92),a(73)),u=a(1);var j=function(e){var t=e.variant,a=e.heading,r=e.message,s=Object(n.useState)(!0),c=Object(o.a)(s,2),i=c[0],l=c[1],j=Object(n.useState)(null),b=Object(o.a)(j,2),h=b[0],m=b[1];return console.log(h),Object(n.useEffect)((function(){var e=setTimeout((function(){return l(!1)}),5e3);return m(e),function(){clearTimeout(h)}}),[]),Object(u.jsx)(d.a,{variant:t,onClose:function(){return l(!1)},dismissible:!0,show:i,children:Object(u.jsxs)("div",{className:"container",children:[Object(u.jsx)(d.a.Heading,{children:a}),Object(u.jsx)("p",{className:"alert-body",children:r})]})})},b=a(86),h=a(57),m=a(85),O=a(14),p=a(84),x=a(49),g=a(83),v=Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)(O.NavLink,{to:"change-pw/",className:"nav-link",children:"Change Password"}),Object(u.jsx)(O.NavLink,{to:"sign-out/",className:"nav-link",children:"Sign Out"})]}),f=Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)(O.NavLink,{to:"sign-up/",className:"nav-link",children:"Sign Up"}),Object(u.jsx)(O.NavLink,{to:"sign-in/",className:"nav-link",children:"Sign In"})]}),w=Object(u.jsx)(u.Fragment,{children:Object(u.jsx)(O.NavLink,{to:"/",className:"nav-link",children:"Home"})}),S=Object(u.jsx)(u.Fragment,{children:Object(u.jsxs)(p.a,{id:"dropdown-basic-button",title:"Dropdown button",children:[Object(u.jsx)(g.LinkContainer,{to:"create-folder/",children:Object(u.jsx)(x.a.Item,{children:"New Folder"})}),Object(u.jsx)(x.a.Item,{href:"#/action-2",children:"Another action"}),Object(u.jsx)(x.a.Item,{href:"#/action-3",children:"Something else"})]})}),y=function(e){var t=e.user;return Object(u.jsx)(h.a,{bg:"secondary",variant:"dark",expand:"md",children:Object(u.jsxs)(m.a,{children:[t?S:Object(u.jsx)("div",{}),Object(u.jsx)(h.a.Brand,{children:Object(u.jsx)(O.Link,{to:"/",style:{color:"#FFF",textDecoration:"none"},children:"Chalkboard"})}),Object(u.jsx)(h.a.Toggle,{"aria-controls":"basic-navbar-nav"}),Object(u.jsx)(h.a.Collapse,{id:"basic-navbar-nav",children:Object(u.jsxs)(b.a,{className:"ms-auto",children:[t&&Object(u.jsxs)("span",{className:"navbar-text me-2",children:["Welcome, ",t.email]}),w,t?v:f]})})]})})},k=a(16),C=a.n(k),N=a(27),F="https://project4chalkboard-api.herokuapp.com",P="http://localhost:8000",I="localhost"===window.location.hostname?P:F,A=a(37),L=a.n(A),_=function(e,t,a){return L.a.post(I+"/sign-up/",{credentials:{email:e,password:t,password_confirmation:a}})},U=function(e,t){return L.a.post(I+"/sign-in/",{credentials:{email:e,password:t}})},E=function(e){return L.a.delete(I+"/sign-out/",{headers:{Authorization:"Token ".concat(e.token)}})},T=function(e,t,a){return L.a.patch(I+"/change-pw/",{passwords:{old:e,new:t}},{headers:{Authorization:"Token ".concat(a.token)}})},q=a(11),B=a(35),G=function(e){var t=e.msgAlert,a=e.setUser,r=Object(n.useState)(""),s=Object(o.a)(r,2),c=s[0],l=s[1],d=Object(n.useState)(""),j=Object(o.a)(d,2),b=j[0],h=j[1],m=Object(n.useState)(""),O=Object(o.a)(m,2),p=O[0],x=O[1],g=Object(n.useState)(!1),v=Object(o.a)(g,2),f=v[0],w=v[1],S=function(){var e=Object(N.a)(C.a.mark((function e(n){var r;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.preventDefault(),e.prev=1,e.next=4,_(c,b,p);case 4:return e.next=6,U(c,b);case 6:r=e.sent,a(r.data.user),t({heading:"Sign Up Success",message:"Succesfully registered! You've been signed in as well.",variant:"success"}),w(!0),e.next=18;break;case 12:e.prev=12,e.t0=e.catch(1),l(""),h(""),x(""),t({heading:"Sign Up Failed with error: "+e.t0.message,message:"Registration failed. Email may be taken, or passwords don't match.",variant:"danger"});case 18:case"end":return e.stop()}}),e,null,[[1,12]])})));return function(t){return e.apply(this,arguments)}}();return f?Object(u.jsx)(i.b,{to:"/"}):Object(u.jsx)("div",{className:"row",children:Object(u.jsxs)("div",{className:"col-sm-10 col-md-8 mx-auto mt-5",children:[Object(u.jsx)("h3",{children:"Sign Up"}),Object(u.jsxs)(q.a,{onSubmit:S,children:[Object(u.jsxs)(q.a.Group,{controlId:"email",children:[Object(u.jsx)(q.a.Label,{children:"Email address"}),Object(u.jsx)(q.a.Control,{required:!0,type:"email",name:"email",value:c,placeholder:"Enter email",onChange:function(e){return l(e.target.value)}})]}),Object(u.jsxs)(q.a.Group,{controlId:"password",children:[Object(u.jsx)(q.a.Label,{children:"Password"}),Object(u.jsx)(q.a.Control,{required:!0,name:"password",value:b,type:"password",placeholder:"Password",onChange:function(e){return h(e.target.value)}})]}),Object(u.jsxs)(q.a.Group,{controlId:"passwordConfirmation",children:[Object(u.jsx)(q.a.Label,{children:"Password Confirmation"}),Object(u.jsx)(q.a.Control,{required:!0,name:"passwordConfirmation",value:p,type:"password",placeholder:"Confirm Password",onChange:function(e){return x(e.target.value)}})]}),Object(u.jsx)(B.a,{className:"mt-2",variant:"primary",type:"submit",children:"Submit"})]})]})})},D=function(e){var t=e.msgAlert,a=e.setUser,r=Object(n.useState)(""),s=Object(o.a)(r,2),c=s[0],l=s[1],d=Object(n.useState)(""),j=Object(o.a)(d,2),b=j[0],h=j[1],m=Object(n.useState)(!1),O=Object(o.a)(m,2),p=O[0],x=O[1],g=function(){var e=Object(N.a)(C.a.mark((function e(n){var r;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.preventDefault(),e.prev=1,e.next=4,U(c,b);case 4:r=e.sent,a(r.data.user),t({heading:"Sign In Success",message:"Welcome!",variant:"success"}),x(!0),e.next=15;break;case 10:e.prev=10,e.t0=e.catch(1),l(""),h(""),t({heading:"Sign In Failed with error: "+e.t0.message,message:"Failed to sign in. Check your email and password and try again.",variant:"danger"});case 15:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(t){return e.apply(this,arguments)}}();return p?Object(u.jsx)(i.b,{to:"/"}):Object(u.jsx)("div",{className:"row",children:Object(u.jsxs)("div",{className:"col-sm-10 col-md-8 mx-auto mt-5",children:[Object(u.jsx)("h3",{children:"Sign In"}),Object(u.jsxs)(q.a,{onSubmit:g,children:[Object(u.jsxs)(q.a.Group,{controlId:"email",children:[Object(u.jsx)(q.a.Label,{children:"Email address"}),Object(u.jsx)(q.a.Control,{required:!0,type:"email",name:"email",value:c,placeholder:"Enter email",onChange:function(e){return l(e.target.value)}})]}),Object(u.jsxs)(q.a.Group,{controlId:"password",children:[Object(u.jsx)(q.a.Label,{children:"Password"}),Object(u.jsx)(q.a.Control,{required:!0,name:"password",value:b,type:"password",placeholder:"Password",onChange:function(e){return h(e.target.value)}})]}),Object(u.jsx)(B.a,{className:"mt-2",variant:"primary",type:"submit",children:"Submit"})]})]})})},z=function(e){var t=e.msgAlert,a=e.clearUser,r=e.user,s=Object(n.useState)(!1),c=Object(o.a)(s,2),l=c[0],d=c[1];return Object(n.useEffect)((function(){(function(){var e=Object(N.a)(C.a.mark((function e(){return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,E(r);case 2:t({heading:"Signed Out Successfully",message:"Come back soon!",variant:"success"}),a(),d(!0);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]),!r||l?Object(u.jsx)(i.b,{to:"/"}):""},J=function(e){var t=e.msgAlert,a=e.user,r=Object(n.useState)(""),s=Object(o.a)(r,2),c=s[0],l=s[1],d=Object(n.useState)(""),j=Object(o.a)(d,2),b=j[0],h=j[1],m=Object(n.useState)(!1),O=Object(o.a)(m,2),p=O[0],x=O[1],g=function(){var e=Object(N.a)(C.a.mark((function e(n){return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.preventDefault(),e.prev=1,e.next=4,T(c,b,a);case 4:t({heading:"Change Password Success",message:"Password changed successfully!",variant:"success"}),x(!0),e.next=13;break;case 8:e.prev=8,e.t0=e.catch(1),l(""),h(""),t({heading:"Change Password Failed with error: "+e.t0.message,message:"Failed to change passwords. Check your old password and try again.",variant:"danger"});case 13:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}();return!a||p?Object(u.jsx)(i.b,{to:"/"}):Object(u.jsx)("div",{className:"row",children:Object(u.jsxs)("div",{className:"col-sm-10 col-md-8 mx-auto mt-5",children:[Object(u.jsx)("h3",{children:"Change Password"}),Object(u.jsxs)(q.a,{onSubmit:g,children:[Object(u.jsxs)(q.a.Group,{controlId:"oldPassword",children:[Object(u.jsx)(q.a.Label,{children:"Old password"}),Object(u.jsx)(q.a.Control,{required:!0,name:"oldPassword",value:c,type:"password",placeholder:"Old Password",onChange:function(e){return l(e.target.value)}})]}),Object(u.jsxs)(q.a.Group,{controlId:"newPassword",children:[Object(u.jsx)(q.a.Label,{children:"New Password"}),Object(u.jsx)(q.a.Control,{required:!0,name:"newPassword",value:b,type:"password",placeholder:"New Password",onChange:function(e){return h(e.target.value)}})]}),Object(u.jsx)(B.a,{className:"mt-2",variant:"primary",type:"submit",children:"Submit"})]})]})})},R=a(71),H=a.n(R),W=function(e,t,a){return L.a.post("".concat(I,"/folders/"),{movie:{title:e,director:t}},{headers:{Authorization:"Token ".concat(a.token)}})},M=function(e){var t=e.user,a=e.msgAlert,r=Object(n.useState)(""),s=Object(o.a)(r,2),c=s[0],l=s[1],d=Object(n.useState)(null),j=Object(o.a)(d,2),b=j[0],h=j[1],m=function(){var e=Object(N.a)(C.a.mark((function e(n){var r;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.preventDefault(),e.prev=1,e.next=4,W(c,t);case 4:r=e.sent,h(r.data.folder._id),a({heading:"Folder Created",message:"Created ".concat(c," successfully."),variant:"success"}),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),a({heading:"Failed To Create Folder",message:e.t0.message,variant:"danger"});case 12:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t){return e.apply(this,arguments)}}();return t?b?Object(u.jsx)(i.b,{to:"/folders/".concat(b)}):Object(u.jsx)("div",{children:Object(u.jsxs)("form",{onSubmit:m,children:[Object(u.jsx)("button",{children:"Create Folder"}),Object(u.jsxs)("label",{children:["Folder Name:",Object(u.jsx)("input",{type:"text",name:"folder_name",value:c.folder_name,onChange:function(e){return l(e.target.value)}})]})]})}):Object(u.jsx)(i.b,{to:"/"})},Q=function(){var e=Object(n.useState)(null),t=Object(o.a)(e,2),a=t[0],r=t[1],s=Object(n.useState)([]),d=Object(o.a)(s,2),b=d[0],h=d[1],m=function(e){var t=e.heading,a=e.message,n=e.variant,r=Object(l.a)();h((function(e){return[].concat(Object(c.a)(e),[{heading:t,message:a,variant:n,id:r}])}))};return Object(u.jsxs)("div",{className:H.a.container,children:[Object(u.jsx)(y,{user:a}),Object(u.jsxs)("div",{className:H.a.body,style:{backgroundImage:"url('https://wallpaperaccess.com/full/1390896.jpg')"},children:[b.map((function(e){return Object(u.jsx)(j,{heading:e.heading,variant:e.variant,message:e.message,id:e.id},e.id)})),Object(u.jsx)("main",{className:H.a.content,children:Object(u.jsxs)(i.f,{children:[Object(u.jsx)(i.d,{path:"sign-up/",element:Object(u.jsx)(G,{msgAlert:m,setUser:r})}),Object(u.jsx)(i.d,{path:"sign-in/",element:Object(u.jsx)(D,{msgAlert:m,setUser:r})}),Object(u.jsx)(i.d,{path:"sign-out/",element:Object(u.jsx)(z,{msgAlert:m,clearUser:function(){return r(null)},user:a})}),Object(u.jsx)(i.d,{path:"change-pw/",element:Object(u.jsx)(J,{msgAlert:m,user:a})}),Object(u.jsx)(i.d,{path:"/create-folder/",element:Object(u.jsx)(M,{msgAlert:m,user:a})})]})})]})]})},Y=Object(u.jsx)(O.BrowserRouter,{basename:"/project4-client",children:Object(u.jsx)(Q,{})});s.a.render(Y,document.getElementById("root"))},71:function(e,t,a){e.exports={container:"BodyContainer_container__1MB7h",body:"BodyContainer_body__1QfSJ",content:"BodyContainer_content__2TRyn"}},91:function(e,t,a){},92:function(e,t,a){}},[[120,1,2]]]);
//# sourceMappingURL=main.6caf873b.chunk.js.map