(this["webpackJsonpproject4-client"]=this["webpackJsonpproject4-client"]||[]).push([[0],{102:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n(25),s=n.n(r),c=(n(75),n(52)),o=n(5),i=n(7),l=n(106),d=(n(76),n(55)),u=n(1);var j=function(e){var t=e.variant,n=e.heading,r=e.message,s=Object(a.useState)(!0),c=Object(o.a)(s,2),i=c[0],l=c[1],j=Object(a.useState)(null),b=Object(o.a)(j,2),h=b[0],m=b[1];return console.log(h),Object(a.useEffect)((function(){var e=setTimeout((function(){return l(!1)}),5e3);return m(e),function(){clearTimeout(h)}}),[]),Object(u.jsx)(d.a,{variant:t,onClose:function(){return l(!1)},dismissible:!0,show:i,children:Object(u.jsxs)("div",{className:"container",children:[Object(u.jsx)(d.a.Heading,{children:n}),Object(u.jsx)("p",{className:"alert-body",children:r})]})})},b=n(69),h=n(43),m=n(67),O=n(11),p=Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)(O.c,{to:"/home",className:"nav-link",children:"Home"}),Object(u.jsx)(O.c,{to:"/change-pw",className:"nav-link",children:"Change Password"}),Object(u.jsx)(O.c,{to:"/sign-out",className:"nav-link",children:"Sign Out"})]}),x=function(e){var t=e.user;return Object(u.jsx)(h.a,{bg:"secondary",variant:"dark",expand:"md",children:Object(u.jsxs)(m.a,{children:[Object(u.jsx)(h.a.Brand,{children:Object(u.jsx)(O.b,{to:"/",style:{color:"#FFF",textDecoration:"none"},children:"Chalkboard"})}),Object(u.jsx)(h.a.Toggle,{"aria-controls":"basic-navbar-nav"}),Object(u.jsx)(h.a.Collapse,{id:"basic-navbar-nav",children:Object(u.jsxs)(b.a,{className:"ms-auto",children:[t&&Object(u.jsxs)("span",{className:"navbar-text me-2",children:["Welcome, ",t.email]}),t&&p]})})]})})},g=n(10),f=n.n(g),v=n(13),w="https://project4chalkboard-api.herokuapp.com",_="http://localhost:8000",y="localhost"===window.location.hostname?_:w,k=n(23),S=n.n(k),C=function(e,t,n){return S.a.post(y+"/sign-up/",{credentials:{email:e,password:t,password_confirmation:n}})},N=function(e,t){return S.a.post(y+"/sign-in/",{credentials:{email:e,password:t}})},P=function(e){return S.a.delete(y+"/sign-out/",{headers:{Authorization:"Token ".concat(e.token)}})},F=function(e,t,n){return S.a.patch(y+"/change-pw/",{passwords:{old:e,new:t}},{headers:{Authorization:"Token ".concat(n.token)}})},A=n(9),U=n(34),B=function(e){var t=e.msgAlert,n=e.setUser,r=Object(a.useState)(""),s=Object(o.a)(r,2),c=s[0],l=s[1],d=Object(a.useState)(""),j=Object(o.a)(d,2),b=j[0],h=j[1],m=Object(a.useState)(""),O=Object(o.a)(m,2),p=O[0],x=O[1],g=Object(a.useState)(!1),w=Object(o.a)(g,2),_=w[0],y=w[1],k=function(){var e=Object(v.a)(f.a.mark((function e(a){var r;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a.preventDefault(),e.prev=1,e.next=4,C(c,b,p);case 4:return e.next=6,N(c,b);case 6:r=e.sent,n(r.data.user),t({heading:"Sign Up Success",message:"Succesfully registered! You've been signed in as well.",variant:"success"}),y(!0),e.next=18;break;case 12:e.prev=12,e.t0=e.catch(1),l(""),h(""),x(""),t({heading:"Sign Up Failed with error: "+e.t0.message,message:"Registration failed. Email may be taken, or passwords don't match.",variant:"danger"});case 18:case"end":return e.stop()}}),e,null,[[1,12]])})));return function(t){return e.apply(this,arguments)}}();return _?Object(u.jsx)(i.a,{to:"/home/"}):Object(u.jsx)("div",{className:"row",children:Object(u.jsxs)("div",{className:"col-sm-10 col-md-8 mx-auto mt-5",children:[Object(u.jsx)("h3",{children:"Sign Up"}),Object(u.jsxs)(A.a,{onSubmit:k,children:[Object(u.jsxs)(A.a.Group,{controlId:"email",children:[Object(u.jsx)(A.a.Label,{children:"Email address"}),Object(u.jsx)(A.a.Control,{required:!0,type:"email",name:"email",value:c,placeholder:"Enter email",onChange:function(e){return l(e.target.value)}})]}),Object(u.jsxs)(A.a.Group,{controlId:"password",children:[Object(u.jsx)(A.a.Label,{children:"Password"}),Object(u.jsx)(A.a.Control,{required:!0,name:"password",value:b,type:"password",placeholder:"Password",onChange:function(e){return h(e.target.value)}})]}),Object(u.jsxs)(A.a.Group,{controlId:"passwordConfirmation",children:[Object(u.jsx)(A.a.Label,{children:"Password Confirmation"}),Object(u.jsx)(A.a.Control,{required:!0,name:"passwordConfirmation",value:p,type:"password",placeholder:"Confirm Password",onChange:function(e){return x(e.target.value)}})]}),Object(u.jsx)(U.a,{className:"mt-2",variant:"primary",type:"submit",children:"Submit"})]})]})})},I=function(e){var t=e.msgAlert,n=e.setUser,r=Object(a.useState)(""),s=Object(o.a)(r,2),c=s[0],l=s[1],d=Object(a.useState)(""),j=Object(o.a)(d,2),b=j[0],h=j[1],m=Object(a.useState)(!1),O=Object(o.a)(m,2),p=O[0],x=O[1],g=function(){var e=Object(v.a)(f.a.mark((function e(a){var r;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a.preventDefault(),e.prev=1,e.next=4,N(c,b);case 4:r=e.sent,n(r.data.user),t({heading:"Sign In Success",message:"Welcome!",variant:"success"}),x(!0),e.next=15;break;case 10:e.prev=10,e.t0=e.catch(1),l(""),h(""),t({heading:"Sign In Failed with error: "+e.t0.message,message:"Failed to sign in. Check your email and password and try again.",variant:"danger"});case 15:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(t){return e.apply(this,arguments)}}();return p?Object(u.jsx)(i.a,{to:"/home/"}):Object(u.jsx)("div",{className:"row",children:Object(u.jsxs)("div",{className:"col-sm-10 col-md-8 mx-auto mt-5",children:[Object(u.jsx)("h3",{children:"Sign In"}),Object(u.jsxs)(A.a,{onSubmit:g,children:[Object(u.jsxs)(A.a.Group,{controlId:"email",children:[Object(u.jsx)(A.a.Label,{children:"Email address"}),Object(u.jsx)(A.a.Control,{required:!0,type:"email",name:"email",value:c,placeholder:"Enter email",onChange:function(e){return l(e.target.value)}})]}),Object(u.jsxs)(A.a.Group,{controlId:"password",children:[Object(u.jsx)(A.a.Label,{children:"Password"}),Object(u.jsx)(A.a.Control,{required:!0,name:"password",value:b,type:"password",placeholder:"Password",onChange:function(e){return h(e.target.value)}})]}),Object(u.jsx)(U.a,{className:"mt-2",variant:"primary",type:"submit",children:"Submit"})]})]})})},L=function(e){var t=e.msgAlert,n=e.clearUser,r=e.user,s=Object(a.useState)(!1),c=Object(o.a)(s,2),l=c[0],d=c[1];return Object(a.useEffect)((function(){(function(){var e=Object(v.a)(f.a.mark((function e(){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,P(r);case 2:t({heading:"Signed Out Successfully",message:"Come back soon!",variant:"success"}),n(),d(!0);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]),!r||l?Object(u.jsx)(i.a,{to:"/"}):""},T=function(e){var t=e.msgAlert,n=e.user,r=Object(a.useState)(""),s=Object(o.a)(r,2),c=s[0],l=s[1],d=Object(a.useState)(""),j=Object(o.a)(d,2),b=j[0],h=j[1],m=Object(a.useState)(!1),O=Object(o.a)(m,2),p=O[0],x=O[1],g=function(){var e=Object(v.a)(f.a.mark((function e(a){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a.preventDefault(),e.prev=1,e.next=4,F(c,b,n);case 4:t({heading:"Change Password Success",message:"Password changed successfully!",variant:"success"}),x(!0),e.next=13;break;case 8:e.prev=8,e.t0=e.catch(1),l(""),h(""),t({heading:"Change Password Failed with error: "+e.t0.message,message:"Failed to change passwords. Check your old password and try again.",variant:"danger"});case 13:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}();return!n||p?Object(u.jsx)(i.a,{to:"/"}):Object(u.jsx)("div",{className:"row",children:Object(u.jsxs)("div",{className:"col-sm-10 col-md-8 mx-auto mt-5",children:[Object(u.jsx)("h3",{children:"Change Password"}),Object(u.jsxs)(A.a,{onSubmit:g,children:[Object(u.jsxs)(A.a.Group,{controlId:"oldPassword",children:[Object(u.jsx)(A.a.Label,{children:"Old password"}),Object(u.jsx)(A.a.Control,{required:!0,name:"oldPassword",value:c,type:"password",placeholder:"Old Password",onChange:function(e){return l(e.target.value)}})]}),Object(u.jsxs)(A.a.Group,{controlId:"newPassword",children:[Object(u.jsx)(A.a.Label,{children:"New Password"}),Object(u.jsx)(A.a.Control,{required:!0,name:"newPassword",value:b,type:"password",placeholder:"New Password",onChange:function(e){return h(e.target.value)}})]}),Object(u.jsx)(U.a,{className:"mt-2",variant:"primary",type:"submit",children:"Submit"})]})]})})},E=n(41),z=n.n(E),q=function(e){return S.a.get(y+"/folders/",{headers:{Authorization:"Token ".concat(e.token)}})},D=function(e,t){return S.a.get("".concat(y,"/folders/").concat(e,"/"),{headers:{Authorization:"Token ".concat(t.token)}})},G=function(e,t){return S.a.delete("".concat(y,"/folders/").concat(e,"/"),{headers:{Authorization:"Token ".concat(t.token)}})},H=function(e,t,n){return S.a.patch("".concat(y,"/folders/").concat(t,"/"),{folder:e},{headers:{Authorization:"Token ".concat(n.token)}})},R=function(e,t){return S.a.post("".concat(y,"/folders/"),{folder:e},{headers:{Authorization:"Token ".concat(t.token)}})},W=function(e){var t=e.user,n=e.msgAlert,r=(e.setRequestData,Object(a.useState)("")),s=Object(o.a)(r,2),c=s[0],l=s[1],d=Object(a.useState)(null),j=Object(o.a)(d,2),b=j[0],h=j[1],m=function(){var e=Object(v.a)(f.a.mark((function e(a){var r,s;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a.preventDefault(),r={folder_name:c},e.prev=2,e.next=5,R(r,t);case 5:s=e.sent,h(s.data.folder.id),n({heading:"Folder Created",message:"Created ".concat(c," successfully."),variant:"success"}),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(2),n({heading:"Failed To Create Folder",message:e.t0.message,variant:"danger"});case 13:case"end":return e.stop()}}),e,null,[[2,10]])})));return function(t){return e.apply(this,arguments)}}();return t?b?Object(u.jsx)(i.a,{to:"/home/"}):Object(u.jsx)("div",{children:Object(u.jsx)("form",{onSubmit:m,children:Object(u.jsxs)("label",{children:["Folder Name:",Object(u.jsx)("input",{type:"text",name:"folder_name",value:c.folder_name,onChange:function(e){return l(e.target.value)}}),Object(u.jsx)("button",{children:"Create Folder"})]})})}):Object(u.jsx)(i.a,{to:"/"})},J=n(42),Y=n.n(J),Q=function(e){return e.user?Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)("div",{className:Y.a.content}),Object(u.jsxs)("div",{className:Y.a.media,children:[Object(u.jsx)("div",{className:Y.a.video,children:"video"}),Object(u.jsx)("div",{className:Y.a.picture,children:"picture"})]})]}):Object(u.jsx)(i.a,{to:"/"})},M=n(27),X=n.n(M),Z=function(e){var t=e.msgAlert,n=e.setUser,r=Object(a.useState)(!1),s=Object(o.a)(r,2),c=s[0],i=s[1],l=Object(a.useState)(!1),d=Object(o.a)(l,2),j=d[0],b=d[1];return Object(u.jsx)(u.Fragment,{children:Object(u.jsxs)("div",{className:X.a.container,children:[Object(u.jsx)("div",{className:X.a.welcome,children:"Welcome To Chalkboard"}),Object(u.jsxs)("div",{className:X.a.content,children:[Object(u.jsx)("div",{className:X.a.signIn,children:c?Object(u.jsx)(I,{msgAlert:t,setUser:n}):null}),Object(u.jsxs)("div",{className:X.a.buttons,children:[Object(u.jsx)("button",{className:X.a.signInBtn,onClick:function(){return i(!c)},children:"Sign In"}),Object(u.jsx)("button",{className:X.a.signUpBtn,onClick:function(){return b(!j)},children:"Sign Up"})]}),Object(u.jsx)("div",{className:X.a.signUp,children:j?Object(u.jsx)(B,{msgAlert:t,setUser:n}):null})]})]})})},K=n(68),V=n.n(K),$=function(e){var t=e.user,n=Object(a.useState)([]),r=Object(o.a)(n,2),s=r[0],c=r[1];if(!t)return Object(u.jsx)(i.a,{to:"/"});if(Object(a.useEffect)((function(){(function(){var e=Object(v.a)(f.a.mark((function e(){var n;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,q(t);case 3:n=e.sent,c(n.data.folders),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}})()()}),[]),0===s.length)return Object(u.jsx)(O.b,{to:"/folder/create/",children:Object(u.jsx)("button",{children:"New Folder"})});var l=s.map((function(e){return Object(u.jsx)("li",{children:Object(u.jsxs)(O.b,{to:"/folders/".concat(e.id,"/"),children:[e.folder_name,Object(u.jsx)("button",{className:V.a.updateBtn,children:"\ud83d\udcdd"})]})},e.id)}));return Object(u.jsx)("div",{children:Object(u.jsx)("ul",{children:l})})},ee=function(e){var t=e.user;return Object(u.jsxs)(u.Fragment,{children:[Object(u.jsxs)("div",{children:[Object(u.jsx)(O.b,{to:"folders/create/",children:Object(u.jsx)("button",{children:"New Folder"})}),Object(u.jsx)(O.b,{to:"create-file/",children:Object(u.jsx)("button",{children:"New File"})})]}),Object(u.jsx)("div",{children:Object(u.jsx)($,{user:t})})]})},te=function(e){var t=e.user,n=e.msgAlert,r=Object(a.useState)(""),s=Object(o.a)(r,2),c=s[0],l=s[1],d=Object(a.useState)(null),j=Object(o.a)(d,2),b=j[0],h=j[1],m=Object(i.h)().id,O=function(){var e=Object(v.a)(f.a.mark((function e(a,r){var s,o;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a.preventDefault(),s={folder_name:c},e.prev=2,e.next=5,H(s,r,t);case 5:o=e.sent,h(o.data.folder.id),n({heading:"Folder Updated",message:"Updated ".concat(c," successfully."),variant:"success"}),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(2),n({heading:"Failed To Update Folder",message:e.t0.message,variant:"danger"});case 13:case"end":return e.stop()}}),e,null,[[2,10]])})));return function(t,n){return e.apply(this,arguments)}}();return t?b?Object(u.jsx)(i.a,{to:"/home/"}):Object(u.jsx)("div",{children:Object(u.jsx)("form",{onSubmit:function(e){return O(e,m)},children:Object(u.jsxs)("label",{children:["Folder Name:",Object(u.jsx)("input",{type:"text",name:"folder_name",value:c.folder_name,onChange:function(e){return l(e.target.value)}}),Object(u.jsx)("button",{children:"Update Folder"})]})})}):Object(u.jsx)(i.a,{to:"/"})},ne=function(e){var t=e.user,n=e.msgAlert,r=Object(a.useState)([]),s=Object(o.a)(r,2),c=s[0],l=s[1],d=Object(a.useState)(!1),j=Object(o.a)(d,2),b=j[0],h=j[1],m=Object(i.h)().id;if(!t)return Object(u.jsx)(i.a,{to:"/"});Object(a.useEffect)((function(){(function(){var e=Object(v.a)(f.a.mark((function e(){var a;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,D(m,t);case 3:a=e.sent,l(a.data.folder),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),n({heading:"Folder failed to load",message:e.t0.message,variant:"danger"});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}})()()}),[]),console.log(c);var p=function(){var e=Object(v.a)(f.a.mark((function e(){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,G(m,t);case 3:h(!0),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),n({heading:"Failed to delete folder",message:e.t0.message,variant:"danger"});case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(){return e.apply(this,arguments)}}();return b?Object(u.jsx)(i.a,{to:"/home/"}):Object(u.jsx)("div",{className:"row",children:Object(u.jsxs)("div",{className:"col-sm-10 col-md-8 mx-auto mt-5",children:[Object(u.jsx)("h3",{children:c.folder_name}),Object(u.jsx)(U.a,{variant:"danger",onClick:p,children:"Delete Folder"}),Object(u.jsx)(O.b,{to:"/folders/".concat(m,"/edit/"),children:Object(u.jsx)(U.a,{variant:"primary",type:"submit",children:"Update Folder"})})]})})},ae=function(){var e=Object(a.useState)(null),t=Object(o.a)(e,2),n=t[0],r=t[1],s=Object(a.useState)([]),d=Object(o.a)(s,2),b=d[0],h=d[1],m=function(e){var t=e.heading,n=e.message,a=e.variant,r=Object(l.a)();h((function(e){return[].concat(Object(c.a)(e),[{heading:t,message:n,variant:a,id:r}])}))},O=Object(u.jsx)("div",{className:z.a.fileContainer,children:Object(u.jsx)(ee,{user:n})});return Object(u.jsxs)("div",{className:z.a.container,children:[Object(u.jsx)(x,{user:n}),Object(u.jsxs)("div",{className:z.a.body,style:{backgroundImage:"url('https://wallpaperaccess.com/full/1390896.jpg')"},children:[b.map((function(e){return Object(u.jsx)(j,{heading:e.heading,variant:e.variant,message:e.message,id:e.id},e.id)})),n&&O,Object(u.jsx)("main",{className:z.a.content,children:Object(u.jsxs)(i.d,{children:[Object(u.jsx)(i.b,{path:"/",element:Object(u.jsx)(Z,{msgAlert:m,setUser:r})}),Object(u.jsx)(i.b,{path:"home/",element:Object(u.jsx)(Q,{user:n})}),Object(u.jsx)(i.b,{path:"sign-up/",element:Object(u.jsx)(B,{msgAlert:m,setUser:r})}),Object(u.jsx)(i.b,{path:"sign-in/",element:Object(u.jsx)(I,{msgAlert:m,setUser:r})}),Object(u.jsx)(i.b,{path:"sign-out/",element:Object(u.jsx)(L,{msgAlert:m,clearUser:function(){return r(null)},user:n})}),Object(u.jsx)(i.b,{path:"change-pw/",element:Object(u.jsx)(T,{msgAlert:m,user:n})}),Object(u.jsx)(i.b,{path:"/folders/create/",element:Object(u.jsx)(W,{msgAlert:m,user:n})}),Object(u.jsx)(i.b,{path:"/folders/:id/",element:Object(u.jsx)(ne,{msgAlert:m,user:n})}),Object(u.jsx)(i.b,{path:"/folders/:id/edit/",element:Object(u.jsx)(te,{msgAlert:m,user:n})})]})})]})]})},re=Object(u.jsx)(O.a,{basename:"/project4-client",children:Object(u.jsx)(ae,{})});s.a.render(re,document.getElementById("root"))},27:function(e,t,n){e.exports={container:"LandingPage_container__1eW2e",welcome:"LandingPage_welcome__1YyBR",content:"LandingPage_content__3DRJd",buttons:"LandingPage_buttons__3Hl_W",signIn:"LandingPage_signIn__3zkxk",signUp:"LandingPage_signUp__1SzA9",signInBtn:"LandingPage_signInBtn__2XbEN",signUpBtn:"LandingPage_signUpBtn__xZBww"}},41:function(e,t,n){e.exports={container:"BodyContainer_container__1MB7h",body:"BodyContainer_body__1QfSJ",content:"BodyContainer_content__2TRyn",fileContainer:"BodyContainer_fileContainer__2GCeL"}},42:function(e,t,n){e.exports={content:"HomePageBody_content__YCQnc",media:"HomePageBody_media__33nqz",video:"HomePageBody_video__2vn28",picture:"HomePageBody_picture__2G1m5"}},68:function(e,t,n){},75:function(e,t,n){},76:function(e,t,n){}},[[102,1,2]]]);
//# sourceMappingURL=main.7226e439.chunk.js.map